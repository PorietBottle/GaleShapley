key_dict = {
    "A":["F","J","D","K","T","Y","G","H","B","N","R","V","U","M","S","L","A",";",".",",","I","O","E","C","W","X","P","/","Q","Z"],
    "R":["J","K","F","D","T","Y","G","H","B","N","R","V","U","M","S","L","A",";",".",",","I","O","E","C","W","X","P","/","Q","Z"],
    "E":["F","D","S","R","V","E","C","W","X","T","G","B","Y","H","N","U","J","M","I","K",".","O","L",",","P",";","/","Q","A","Z"],
    "I":["J","K","I",",","U","M","Y","H","N","O","L",".","T","B","G","R","F","V","E","D","C","P",";","/","W","S","X","O","A","Z"],
    "N":["J","K","I",",","U","M","Y","H","N","O","L",".","T","B","G","R","F","V","E","D","C","P",";","/","W","S","X","O","A","Z"],
    "U":["U","M","I",",","J","K","Y","H","N","T","G","B","O","L",".","P",";","/","R","F","V","E","D","C","W","S","X","Q","A","Z"],
    "K":["E","C","R","V","D","F","W","S","X","Q","A","Z","T","G","B","Y","H","N","U","J","M","I","K",",","O","L",".","P",";","/"],
    "Q":["Q","W","E","R","T","Z","X","C","V","B","N","U","I","O","P","M",",",".","/","F","G","H","J","K","D","S","A","L",";","Y"],
    "W":["Q","W","E","R","T","Z","X","C","V","B","N","U","I","O","P","M",",",".","/","F","G","H","J","K","D","S","A","L",";","Y"],
    "T":["Q","W","E","R","T","Z","X","C","V","B","N","U","I","O","P","M",",",".","/","F","G","H","J","K","D","S","A","L",";","Y"],
    "Y":["Q","W","E","R","T","Z","X","C","V","B","N","U","I","O","P","M",",",".","/","F","G","H","J","K","D","S","A","L",";","Y"],
    "P":["Q","W","E","R","T","Z","X","C","V","B","N","U","I","O","P","M",",",".","/","F","G","H","J","K","D","S","A","L",";","Y"],
    "S":["Q","W","E","R","T","Z","X","C","V","B","N","U","I","O","P","M",",",".","/","F","G","H","J","K","D","S","A","L",";","Y"],
    "D":["Q","W","E","R","T","Z","X","C","V","B","N","U","I","O","P","M",",",".","/","F","G","H","J","K","D","S","A","L",";","Y"],
    "F":["Q","W","E","R","T","Z","X","C","V","B","N","U","I","O","P","M",",",".","/","F","G","H","J","K","D","S","A","L",";","Y"],
    "G":["Q","W","E","R","T","Z","X","C","V","B","N","U","I","O","P","M",",",".","/","F","G","H","J","K","D","S","A","L",";","Y"],
    "H":["Q","W","E","R","T","Z","X","C","V","B","N","U","I","O","P","M",",",".","/","F","G","H","J","K","D","S","A","L",";","Y"],
    "J":["Q","W","E","R","T","Z","X","C","V","B","N","U","I","O","P","M",",",".","/","F","G","H","J","K","D","S","A","L",";","Y"],
    "L":["Q","W","E","R","T","Z","X","C","V","B","N","U","I","O","P","M",",",".","/","F","G","H","J","K","D","S","A","L",";","Y"],
    ";":["Q","W","E","R","T","Z","X","C","V","B","N","U","I","O","P","M",",",".","/","F","G","H","J","K","D","S","A","L",";","Y"],
    "Z":["Q","W","E","R","T","Z","X","C","V","B","N","U","I","O","P","M",",",".","/","F","G","H","J","K","D","S","A","L",";","Y"],
    "X":["Q","W","E","R","T","Z","X","C","V","B","N","U","I","O","P","M",",",".","/","F","G","H","J","K","D","S","A","L",";","Y"],
    "C":["Q","W","E","R","T","Z","X","C","V","B","N","U","I","O","P","M",",",".","/","F","G","H","J","K","D","S","A","L",";","Y"],
    "V":["Q","W","E","R","T","Z","X","C","V","B","N","U","I","O","P","M",",",".","/","F","G","H","J","K","D","S","A","L",";","Y"],
    "B":["Q","W","E","R","T","Z","X","C","V","B","N","U","I","O","P","M",",",".","/","F","G","H","J","K","D","S","A","L",";","Y"],
    ",":["Q","W","E","R","T","Z","X","C","V","B","N","U","I","O","P","M",",",".","/","F","G","H","J","K","D","S","A","L",";","Y"],
    ".":["Q","W","E","R","T","Z","X","C","V","B","N","U","I","O","P","M",",",".","/","F","G","H","J","K","D","S","A","L",";","Y"],
    "/":["Q","W","E","R","T","Z","X","C","V","B","N","U","I","O","P","M",",",".","/","F","G","H","J","K","D","S","A","L",";","Y"],
    "M":["Q","W","E","R","T","Z","X","C","V","B","N","U","I","O","P","M",",",".","/","F","G","H","J","K","D","S","A","L",";","Y"],
    "O":["Q","W","E","R","T","Z","X","C","V","B","N","U","I","O","P","M",",",".","/","F","G","H","J","K","D","S","A","L",";","Y"],
}

mapping_dict = {
    "T":["T","S","I","N","O","R","E","U","A","D","F","G","H","J","K","Y","M",",",".","L",";","/","P","B","W","V","C","X","Z","Q"],
    "Y":["T","S","I","N","O","R","E","U","A","D","F","G","H","J","K","Y","M",",",".","L",";","/","P","B","W","V","C","X","Z","Q"],
    "B":["T","S","I","N","O","R","E","U","A","D","F","G","H","J","K","Y","M",",",".","L",";","/","P","B","W","V","C","X","Z","Q"],
    "N":["T","S","I","N","O","R","E","U","A","D","F","G","H","J","K","Y","M",",",".","L",";","/","P","B","W","V","C","X","Z","Q"],
    "F":["A","U","E","R","O","N","T","S","I","D","F","G","H","J","K","Y","L",";","Q","W","Z","X","C","V","B","M",",",".","/","P"],
    "J":["A","U","E","R","O","N","T","S","I","D","F","G","H","J","K","Y","L",";","Q","W","Z","X","C","V","B","M",",",".","/","P"],
    "G":["A","U","E","R","O","N","T","S","I","D","F","G","H","J","K","Y","L",";","Q","W","Z","X","C","V","B","M",",",".","/","P"],
    "H":["A","U","E","R","O","N","T","S","I","D","F","G","H","J","K","Y","L",";","Q","W","Z","X","C","V","B","M",",",".","/","P"],
    "U":["F","J","D","K","S","L","R","T","Y","V","B","N","M","C","X","W","Q","Z",",",".","/",";","P","O","I","E","U","A","G","H"],
    "M":["F","J","D","K","S","L","R","T","Y","V","B","N","M","C","X","W","Q","Z",",",".","/",";","P","O","I","E","U","A","G","H"],
    "I":["F","J","D","K","S","L","R","T","Y","V","B","N","M","C","X","W","Q","Z",",",".","/",";","P","O","I","E","U","A","G","H"],
    "K":["F","J","D","K","S","L","R","T","Y","V","B","N","M","C","X","W","Q","Z",",",".","/",";","P","O","I","E","U","A","G","H"],
    ",":["F","J","D","K","S","L","R","T","Y","V","B","N","M","C","X","W","Q","Z",",",".","/",";","P","O","I","E","U","A","G","H"],
    "O":["F","J","D","K","S","L","R","T","Y","V","B","N","M","C","X","W","Q","Z",",",".","/",";","P","O","I","E","U","A","G","H"],
    "L":["F","J","D","K","S","L","R","T","Y","V","B","N","M","C","X","W","Q","Z",",",".","/",";","P","O","I","E","U","A","G","H"],
    ".":["F","J","D","K","S","L","R","T","Y","V","B","N","M","C","X","W","Q","Z",",",".","/",";","P","O","I","E","U","A","G","H"],
    "P":["F","J","D","K","S","L","R","T","Y","V","B","N","M","C","X","W","Q","Z",",",".","/",";","P","O","I","E","U","A","G","H"],
    ";":["F","J","D","K","S","L","R","T","Y","V","B","N","M","C","X","W","Q","Z",",",".","/",";","P","O","I","E","U","A","G","H"],
    "/":["F","J","D","K","S","L","R","T","Y","V","B","N","M","C","X","W","Q","Z",",",".","/",";","P","O","I","E","U","A","G","H"],
    "R":["O","I","E","U","A","S","D","X","C","K","L",",",".","V","B","N","M","J","F","G","H","R","T","Y","/",";","P","Z","Q","W"],
    "V":["O","I","E","U","A","S","D","X","C","K","L",",",".","V","B","N","M","J","F","G","H","R","T","Y","/",";","P","Z","Q","W"],
    "E":["O","I","E","U","A","S","D","X","C","K","L",",",".","V","B","N","M","J","F","G","H","R","T","Y","/",";","P","Z","Q","W"],
    "D":["O","I","E","U","A","S","D","X","C","K","L",",",".","V","B","N","M","J","F","G","H","R","T","Y","/",";","P","Z","Q","W"],
    "C":["O","I","E","U","A","S","D","X","C","K","L",",",".","V","B","N","M","J","F","G","H","R","T","Y","/",";","P","Z","Q","W"],
    "W":["O","I","E","U","A","S","D","X","C","K","L",",",".","V","B","N","M","J","F","G","H","R","T","Y","/",";","P","Z","Q","W"],
    "S":["O","I","E","U","A","S","D","X","C","K","L",",",".","V","B","N","M","J","F","G","H","R","T","Y","/",";","P","Z","Q","W"],
    "X":["O","I","E","U","A","S","D","X","C","K","L",",",".","V","B","N","M","J","F","G","H","R","T","Y","/",";","P","Z","Q","W"],
    "Q":["O","I","E","U","A","S","D","X","C","K","L",",",".","V","B","N","M","J","F","G","H","R","T","Y","/",";","P","Z","Q","W"],
    "A":["O","I","E","U","A","S","D","X","C","K","L",",",".","V","B","N","M","J","F","G","H","R","T","Y","/",";","P","Z","Q","W"],
    "Z":["O","I","E","U","A","S","D","X","C","K","L",",",".","V","B","N","M","J","F","G","H","R","T","Y","/",";","P","Z","Q","W"],
}

def stable_match(request_dict, accept_dict):

    match_dict = {}


    req_len = len(request_dict)


    while len(match_dict) < req_len:

        for req_name in request_dict:

            if req_name in match_dict.values():
                continue
            acc_name = request_dict[req_name].pop(0)

            if acc_name not in match_dict:
                match_dict[acc_name] = req_name

            else:
                rival_name = match_dict[acc_name]


                if accept_dict[acc_name].index(req_name) < \
                    accept_dict[acc_name].index(rival_name):

                    match_dict[acc_name] = req_name
    
    return match_dict


if __name__ == "__main__":
    match_dict = stable_match(key_dict,mapping_dict)
    print(match_dict)